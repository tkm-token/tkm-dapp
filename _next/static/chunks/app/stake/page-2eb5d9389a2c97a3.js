(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{212:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},406:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1064:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},1712:(e,t,r)=>{Promise.resolve().then(r.bind(r,5988))},2593:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3173:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3263:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4374:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},4972:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},5988:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>H});var a=r(9216),n=r(2115),i=r(3998),o=r(6948),s=r(6204),l=r(3263),d=r(4972),c=r(8770),m=r(1064),u=r(4374),p=r(4294);let h=(0,p.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var g=r(2593);let y=(0,p.A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var w=r(212),f=r(8274),b=r(6943),v=r(3173),k=r(4292),x=r(1444),T=r(8535),N=r(8587),S=r(8782);let F=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"admin",type:"address"}],name:"AdminAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"admin",type:"address"}],name:"AdminRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"_stakingList",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"day",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"bool",name:"status",type:"bool"},{internalType:"bool",name:"isRedemption",type:"bool"},{internalType:"uint256",name:"redemptionTime",type:"uint256"},{internalType:"uint256",name:"time",type:"uint256"},{internalType:"address",name:"stakeingpool",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"_totalStakingAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"addAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"admins",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"deadaddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeone",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeper",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feetwo",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"getBNB",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"getStackingList",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"day",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"bool",name:"status",type:"bool"},{internalType:"bool",name:"isRedemption",type:"bool"},{internalType:"uint256",name:"redemptionTime",type:"uint256"},{internalType:"uint256",name:"time",type:"uint256"},{internalType:"address",name:"stakeingpool",type:"address"}],internalType:"struct TKMStaking.Staking[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStackings",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getreward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"preRedemptionStaking",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"seed",type:"uint256"}],name:"randomAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"token",type:"address"}],name:"redemptionStaking",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"removeAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pool30",type:"uint256"},{internalType:"uint256",name:"_pool180",type:"uint256"},{internalType:"uint256",name:"_pool360",type:"uint256"}],name:"setPoolAPI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tkm",type:"address"}],name:"setTKM",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_timestep",type:"uint256"}],name:"setTimestep",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"stakingList180",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"day",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"bool",name:"status",type:"bool"},{internalType:"bool",name:"isRedemption",type:"bool"},{internalType:"uint256",name:"redemptionTime",type:"uint256"},{internalType:"uint256",name:"time",type:"uint256"},{internalType:"address",name:"stakeingpool",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"stakingList30",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"day",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"bool",name:"status",type:"bool"},{internalType:"bool",name:"isRedemption",type:"bool"},{internalType:"uint256",name:"redemptionTime",type:"uint256"},{internalType:"uint256",name:"time",type:"uint256"},{internalType:"address",name:"stakeingpool",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"stakingList360",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"day",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"bool",name:"status",type:"bool"},{internalType:"bool",name:"isRedemption",type:"bool"},{internalType:"uint256",name:"redemptionTime",type:"uint256"},{internalType:"uint256",name:"time",type:"uint256"},{internalType:"address",name:"stakeingpool",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"stakingpool180",outputs:[{internalType:"uint256",name:"total",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"nowtime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"stakingpool30",outputs:[{internalType:"uint256",name:"total",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"nowtime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"stakingpool360",outputs:[{internalType:"uint256",name:"total",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"nowtime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"stakings",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"day",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"statking",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"time",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tkm",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalStakingAmount180",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalStakingAmount30",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalStakingAmount360",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"withdrawreward",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],A="0x55C7addBCc80Dfe0c916bE76c8D6D04631b99DFE",D="0xa300C46A7c0D168D40fe3742cE8c0d4960a1211c";class C{async statking(e,t,r){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3],!this.signerContract)throw Error("Signer is required for transaction");try{let r=T.gH.from(e),a=T.gH.isBigNumber(t)?t:N.g5(t.toString()),n=N.g5(((.1+.1*Math.random())/3e3).toFixed(10)+""),i=await this.signerContract.statking(r,a,{value:n});return console.log("Staking transaction submitted:",i.hash),i}catch(e){throw console.error("Error executing staking:",e),e}}async getreward(e){try{let t=T.gH.from(e);return await this.contract.getreward(t)}catch(e){throw console.error("Error getting reward:",e),e}}async withdrawreward(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],!this.signerContract)throw Error("Signer is required for transaction");try{console.log("value:",e);let t=N.g5(((.1+.1*Math.random())/3e3).toFixed(10)+""),r=await this.signerContract.withdrawreward(e,{value:t});return console.log("Withdraw reward transaction submitted:",r.hash),r}catch(e){throw console.error("Error withdrawing rewards:",e),e}}async redemptionStaking(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],!this.signerContract)throw Error("Signer is required for transaction");try{let r=T.gH.from(e),a=N.g5(((.1+.1*Math.random())/1e3).toFixed(10)+""),n=await this.signerContract.redemptionStaking(r,t,{value:a});return console.log("Redemption transaction submitted:",n.hash),n}catch(e){throw console.error("Error redeeming staking:",e),e}}async preRedemptionStaking(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.signerContract)throw Error("Signer is required for transaction");try{let r=T.gH.from(e),a=await this.signerContract.preRedemptionStaking(r,t);return console.log("Pre-redemption transaction submitted:",a.hash),a}catch(e){throw console.error("Error executing pre-redemption:",e),e}}async getStackingList(e){try{let t=this.signerContract||this.contract,r=await t.getStackingList(e);return await Promise.all(r.map(async e=>{let r;console.log("item.id:",e.id);let a=void 0!==e.id?e.id:e[0],n=void 0!==e.amount?e.amount:e[1],i=void 0!==e.day?e.day:e[2],o=void 0!==e.startTime?e.startTime:e[3],s=void 0!==e.endTime?e.endTime:e[4],l=void 0!==e.status?e.status:e[5],d=void 0!==e.reward?e.reward:e[6],c=void 0!==e.isRedemption?e.isRedemption:e[7],m=void 0!==e.redemptionTime?e.redemptionTime:e[8],u=void 0!==e.time?e.time:e[9],p=void 0!==e.stakeingpool?e.stakeingpool:e[10],h=T.gH.isBigNumber(i)?i.toNumber():Number(i||0),g=o?T.gH.isBigNumber(o)?o.toNumber():Number(o):null,y=s?T.gH.isBigNumber(s)?s.toNumber():Number(s):null,w=m?T.gH.isBigNumber(m)?m.toNumber():Number(m):null,f=u?T.gH.isBigNumber(u)?u.toNumber():Number(u):null,b=T.gH.isBigNumber(a)?a:T.gH.from(a);try{r=await t.getreward(b)}catch(e){r=T.gH.from(0)}return{id:a?a.toString():"0",amount:n,amountFormatted:n?N.ck(n):"0",day:h,startTime:o||null,startTimeFormatted:g?new Date(1e3*g).toISOString():null,endTime:s||null,endTimeFormatted:y?new Date(1e3*y).toISOString():null,status:void 0!==l?T.gH.isBigNumber(l)?l.toString():String(l):"0",rewardDebt:d||T.gH.from(0),rewardDebtFormatted:d?N.ck(d):"0",isRedemption:c,redemptionTime:m,redemptionTimeFormatted:w?new Date(1e3*w).toISOString():null,time:u,timeFormatted:f?new Date(1e3*f).toISOString():null,stakeingpool:p,unreward:r,unrewardFormatted:r?N.ck(r):"0"}}))}catch(e){throw console.error("Error getting staking list:",e),e}}async estimateGasForStatking(e,t,r){if(!this.signerContract)throw Error("Signer is required for gas estimation");try{let r=T.gH.from(e),a=T.gH.isBigNumber(t)?t:N.g5(t.toString());return await this.signerContract.estimateGas.statking(r,a)}catch(e){throw console.error("Error estimating gas for staking:",e),e}}async estimateGasForWithdrawReward(e){if(!this.signerContract)throw Error("Signer is required for gas estimation");try{let t=(Array.isArray(e)?e.flat():[e]).map(e=>T.gH.from(e));return await this.signerContract.estimateGas.withdrawreward(t)}catch(e){throw console.error("Error estimating gas for withdraw:",e),e}}async isAdmin(e){try{let t=this.signerContract||this.contract;return await t.admins(e)}catch(e){throw console.error("Error checking admin:",e),e}}async getFeeOne(){try{let e=this.signerContract||this.contract;return await e.feeone()}catch(e){throw console.error("Error getting feeone:",e),e}}async getFeeTwo(){try{let e=this.signerContract||this.contract;return await e.feetwo()}catch(e){throw console.error("Error getting feetwo:",e),e}}async getFeePer(){try{let e=this.signerContract||this.contract;return await e.feeper()}catch(e){throw console.error("Error getting feeper:",e),e}}async getDeadAddress(){try{let e=this.signerContract||this.contract;return await e.deadaddress()}catch(e){throw console.error("Error getting deadaddress:",e),e}}async getOwner(){try{let e=this.signerContract||this.contract;return await e.owner()}catch(e){throw console.error("Error getting owner:",e),e}}async getTKMAddress(){try{let e=this.signerContract||this.contract;return await e.tkm()}catch(e){throw console.error("Error getting TKM address:",e),e}}async getCurrentTime(){try{let e=this.signerContract||this.contract;return await e.time()}catch(e){throw console.error("Error getting time:",e),e}}async getStackings(){try{let e=this.signerContract||this.contract;return await e.getStackings()}catch(e){throw console.error("Error getting stackings:",e),e}}async getStakingAddress(e){try{let t=this.signerContract||this.contract,r=T.gH.from(e);return await t.stakings(r)}catch(e){throw console.error("Error getting staking address:",e),e}}async getTotalStakingAmount30(){try{let e=this.signerContract||this.contract;return await e.totalStakingAmount30()}catch(e){throw console.error("Error getting total staking amount 30:",e),e}}async getTotalStakingAmount180(){try{let e=this.signerContract||this.contract;return await e.totalStakingAmount180()}catch(e){throw console.error("Error getting total staking amount 180:",e),e}}async getTotalStakingAmount360(){try{let e=this.signerContract||this.contract;return await e.totalStakingAmount360()}catch(e){throw console.error("Error getting total staking amount 360:",e),e}}async getTotalStakingAmount(){try{let e=this.signerContract||this.contract;return await e._totalStakingAmount()}catch(e){throw console.error("Error getting total staking amount:",e),e}}async getStakingPool30(e){try{let t=this.signerContract||this.contract,r=T.gH.from(e),a=await t.stakingpool30(r),n=void 0!==a.total?a.total:a[0],i=void 0!==a.amount?a.amount:a[1];return{total:n,amount:i,totalFormatted:n?N.ck(n):"0",amountFormatted:i?N.ck(i):"0"}}catch(e){throw console.error("Error getting staking pool 30:",e),e}}async getStakingPool180(e){try{let t=this.signerContract||this.contract,r=T.gH.from(e),a=await t.stakingpool180(r),n=void 0!==a.total?a.total:a[0],i=void 0!==a.amount?a.amount:a[1];return{total:n,amount:i,totalFormatted:n?N.ck(n):"0",amountFormatted:i?N.ck(i):"0"}}catch(e){throw console.error("Error getting staking pool 180:",e),e}}async getStakingPool360(e){try{let t=this.signerContract||this.contract,r=T.gH.from(e),a=await t.stakingpool360(r),n=void 0!==a.total?a.total:a[0],i=void 0!==a.amount?a.amount:a[1];return{total:n,amount:i,totalFormatted:n?N.ck(n):"0",amountFormatted:i?N.ck(i):"0"}}catch(e){throw console.error("Error getting staking pool 360:",e),e}}async getStakingList30(e,t){try{let r=this.signerContract||this.contract,a=T.gH.from(t),n=await r.stakingList30(e,a),i=void 0!==n.id?n.id:n[0],o=void 0!==n.day?n.day:n[1],s=void 0!==n.amount?n.amount:n[2],l=void 0!==n.startTime?n.startTime:n[3],d=void 0!==n.endTime?n.endTime:n[4],c=void 0!==n.reward?n.reward:n[5],m=void 0!==n.status?n.status:n[6],u=void 0!==n.isRedemption?n.isRedemption:n[7],p=void 0!==n.redemptionTime?n.redemptionTime:n[8],h=void 0!==n.time?n.time:n[9],g=void 0!==n.stakeingpool?n.stakeingpool:n[10],y=T.gH.isBigNumber(o)?o.toNumber():Number(o||0),w=l?T.gH.isBigNumber(l)?l.toNumber():Number(l):null,f=d?T.gH.isBigNumber(d)?d.toNumber():Number(d):null,b=p?T.gH.isBigNumber(p)?p.toNumber():Number(p):null,v=h?T.gH.isBigNumber(h)?h.toNumber():Number(h):null;return{id:i?i.toString():"0",day:y,amount:s,amountFormatted:s?N.ck(s):"0",startTime:l,startTimeFormatted:w?new Date(1e3*w).toISOString():null,endTime:d,endTimeFormatted:f?new Date(1e3*f).toISOString():null,reward:c,rewardFormatted:c?N.ck(c):"0",status:void 0!==m?T.gH.isBigNumber(m)?m.toString():String(m):"0",isRedemption:u,redemptionTime:p,redemptionTimeFormatted:b?new Date(1e3*b).toISOString():null,time:h,timeFormatted:v?new Date(1e3*v).toISOString():null,stakeingpool:g}}catch(e){throw console.error("Error getting stakingList30:",e),e}}async getStakingList180(e,t){try{let r=this.signerContract||this.contract,a=T.gH.from(t),n=await r.stakingList180(e,a),i=void 0!==n.id?n.id:n[0],o=void 0!==n.day?n.day:n[1],s=void 0!==n.amount?n.amount:n[2],l=void 0!==n.startTime?n.startTime:n[3],d=void 0!==n.endTime?n.endTime:n[4],c=void 0!==n.reward?n.reward:n[5],m=void 0!==n.status?n.status:n[6],u=void 0!==n.isRedemption?n.isRedemption:n[7],p=void 0!==n.redemptionTime?n.redemptionTime:n[8],h=void 0!==n.time?n.time:n[9],g=void 0!==n.stakeingpool?n.stakeingpool:n[10],y=T.gH.isBigNumber(o)?o.toNumber():Number(o||0),w=l?T.gH.isBigNumber(l)?l.toNumber():Number(l):null,f=d?T.gH.isBigNumber(d)?d.toNumber():Number(d):null,b=p?T.gH.isBigNumber(p)?p.toNumber():Number(p):null,v=h?T.gH.isBigNumber(h)?h.toNumber():Number(h):null;return{id:i?i.toString():"0",day:y,amount:s,amountFormatted:s?N.ck(s):"0",startTime:l,startTimeFormatted:w?new Date(1e3*w).toISOString():null,endTime:d,endTimeFormatted:f?new Date(1e3*f).toISOString():null,reward:c,rewardFormatted:c?N.ck(c):"0",status:void 0!==m?T.gH.isBigNumber(m)?m.toString():String(m):"0",isRedemption:u,redemptionTime:p,redemptionTimeFormatted:b?new Date(1e3*b).toISOString():null,time:h,timeFormatted:v?new Date(1e3*v).toISOString():null,stakeingpool:g}}catch(e){throw console.error("Error getting stakingList180:",e),e}}async getStakingList360(e,t){try{let r=this.signerContract||this.contract,a=T.gH.from(t),n=await r.stakingList360(e,a),i=void 0!==n.id?n.id:n[0],o=void 0!==n.day?n.day:n[1],s=void 0!==n.amount?n.amount:n[2],l=void 0!==n.startTime?n.startTime:n[3],d=void 0!==n.endTime?n.endTime:n[4],c=void 0!==n.reward?n.reward:n[5],m=void 0!==n.status?n.status:n[6],u=void 0!==n.isRedemption?n.isRedemption:n[7],p=void 0!==n.redemptionTime?n.redemptionTime:n[8],h=void 0!==n.time?n.time:n[9],g=void 0!==n.stakeingpool?n.stakeingpool:n[10],y=T.gH.isBigNumber(o)?o.toNumber():Number(o||0),w=l?T.gH.isBigNumber(l)?l.toNumber():Number(l):null,f=d?T.gH.isBigNumber(d)?d.toNumber():Number(d):null,b=p?T.gH.isBigNumber(p)?p.toNumber():Number(p):null,v=h?T.gH.isBigNumber(h)?h.toNumber():Number(h):null;return{id:i?i.toString():"0",day:y,amount:s,amountFormatted:s?N.ck(s):"0",startTime:l,startTimeFormatted:w?new Date(1e3*w).toISOString():null,endTime:d,endTimeFormatted:f?new Date(1e3*f).toISOString():null,reward:c,rewardFormatted:c?N.ck(c):"0",status:void 0!==m?T.gH.isBigNumber(m)?m.toString():String(m):"0",isRedemption:u,redemptionTime:p,redemptionTimeFormatted:b?new Date(1e3*b).toISOString():null,time:h,timeFormatted:v?new Date(1e3*v).toISOString():null,stakeingpool:g}}catch(e){throw console.error("Error getting stakingList360:",e),e}}async addAdmin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.signerContract)throw Error("Signer is required for transaction");try{return await this.signerContract.addAdmin(e,t)}catch(e){throw console.error("Error adding admin:",e),e}}async removeAdmin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.signerContract)throw Error("Signer is required for transaction");try{return await this.signerContract.removeAdmin(e,t)}catch(e){throw console.error("Error removing admin:",e),e}}async setTKM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.signerContract)throw Error("Signer is required for transaction");try{return await this.signerContract.setTKM(e,t)}catch(e){throw console.error("Error setting TKM:",e),e}}async setPoolAPI(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!this.signerContract)throw Error("Signer is required for transaction");try{let n=T.gH.from(e),i=T.gH.from(t),o=T.gH.from(r);return await this.signerContract.setPoolAPI(n,i,o,a)}catch(e){throw console.error("Error setting PoolAPI:",e),e}}async setTimestep(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.signerContract)throw Error("Signer is required for transaction");try{let r=T.gH.from(e);return await this.signerContract.setTimestep(r,t)}catch(e){throw console.error("Error setting timestep:",e),e}}async getBNB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.signerContract)throw Error("Signer is required for transaction");try{let r=T.gH.isBigNumber(e)?e:N.g5(e.toString());return await this.signerContract.getBNB(r,t)}catch(e){throw console.error("Error getting BNB:",e),e}}async getToken(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.signerContract)throw Error("Signer is required for transaction");try{let a=T.gH.isBigNumber(t)?t:N.g5(t.toString());return await this.signerContract.getToken(e,a,r)}catch(e){throw console.error("Error getting token:",e),e}}async transferOwnership(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.signerContract)throw Error("Signer is required for transaction");try{return await this.signerContract.transferOwnership(e,t)}catch(e){throw console.error("Error transferring ownership:",e),e}}async randomAddress(e){try{let t=this.signerContract||this.contract,r=T.gH.from(e);return await t.randomAddress(r)}catch(e){throw console.error("Error getting random address:",e),e}}constructor(e,t){this.provider=e,this.signer=t,this.contract=new x.NZ(A,F,e),t&&(this.signerContract=new x.NZ(A,F,t))}}var M=r(1991),Y=r(8332);let E=[{id:1,token:"TKM",apy:"20%",period:"30 days",dividendPoolShare:"20%",totalStaked:"1,250,000 TKM",minStake:"0 TKM",status:"active",image:"TKM"},{id:2,token:"TKM",apy:"35%",period:"180 days",dividendPoolShare:"35%",totalStaked:"850,000 TKM",minStake:"0 TKM",status:"active",image:"TKM"},{id:3,token:"TKM",apy:"45%",period:"360 days",dividendPoolShare:"45%",totalStaked:"500,000 TKM",minStake:"0 TKM",status:"active",image:"TKM"}];function H(){var e,t,r,p;let{success:F}=(0,Y.E$)();(0,n.useEffect)(()=>{let e=document.createElement("style");return e.textContent="\n      .scrollbar-none {\n        -ms-overflow-style: none;\n        scrollbar-width: none;\n      }\n      .scrollbar-none::-webkit-scrollbar {\n        display: none;\n      }\n      @keyframes slideIn {\n        from {\n          opacity: 0;\n          transform: translateX(30px) translateY(20px);\n        }\n        to {\n          opacity: 1;\n          transform: translateX(0) translateY(0);\n        }\n      }\n      .scroll-smooth {\n        scroll-behavior: smooth;\n      }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]);let[H,I]=(0,n.useState)(()=>localStorage.getItem("walletAddress")),[O,K]=(0,n.useState)(null),[j,q]=(0,n.useState)(null),[_,$]=(0,n.useState)(!1),[z,W]=(0,n.useState)(!1),[Z,G]=(0,n.useState)(""),[X,U]=(0,n.useState)("pools"),[J,V]=(0,n.useState)([]),[Q,ee]=(0,n.useState)(!1),[et,er]=(0,n.useState)(null),[ea,en]=(0,n.useState)("0.00"),[ei,eo]=(0,n.useState)({}),[es,el]=(0,n.useState)({}),[ed,ec]=(0,n.useState)({});(0,n.useEffect)(()=>{if(H&&window.ethereum)try{let e=new k.j(window.ethereum),t=e.getSigner(),r=new C(e,t);K(r);let a=new M.A(e,t);q(a);let n=!1;(async()=>{try{n=await a.isUserRegistered(H)}catch(e){}$(n);let t=new URLSearchParams(window.location.search).get("ref")||"",r=localStorage.getItem("referrerAddress")||"",i=(t||r).trim();if(i&&G(i),!n&&i)try{let e=P(H),t=await a.register(e,i);console.log("Stake auto registration tx:",t.hash),$(!0),F("Registration successful, initial setup completed!")}catch(e){}try{let t=new x.NZ(D,L,e),r=await t.allowance(H,A);W(T.gH.isBigNumber(r)?r.gt(0):Number(r)>0)}catch(e){W(!1)}try{let t=new x.NZ(D,L,e),r=await t.balanceOf(H),a=await t.decimals(),n=N.Js(r,a),i=String(n).split("."),o=i.length>1?"".concat(i[0],".").concat((i[1]||"").slice(0,2).padEnd(2,"0")):"".concat(n,".00");en(o)}catch(e){}})()}catch(e){console.error("Failed to initialize APIs:",e)}else K(null),q(null)},[H]),(0,n.useEffect)(()=>{O&&(async()=>{try{let[e,t,r]=await Promise.all([O.getTotalStakingAmount30(),O.getTotalStakingAmount180(),O.getTotalStakingAmount360()]),a=e=>"".concat(N.l8(N.ck(e))," TKM");ec({1:a(e),2:a(t),3:a(r)})}catch(e){}})()},[O]);let em=(0,n.useCallback)(async()=>{if(H)try{let e=new k.j(window.ethereum),t=new x.NZ(D,L,e),r=await t.balanceOf(H),a=await t.decimals(),n=N.Js(r,a),i=String(n).split("."),o=i.length>1?"".concat(i[0],".").concat((i[1]||"").slice(0,2).padEnd(2,"0")):"".concat(n,".00");en(o)}catch(e){console.error("Error fetching TKM balance:",e)}},[H]);(0,n.useEffect)(()=>{H&&em()},[H,em]),(0,n.useEffect)(()=>{if(!H||!window.ethereum)return;let e=new k.j(window.ethereum),t=()=>{em()};return e.on("block",t),()=>{e.off("block",t)}},[H,em]),(0,n.useEffect)(()=>{if(!J||0===J.length)return;let e=setInterval(()=>{let e={};J.forEach(t=>{if(!t.endTimeFormatted)return;let r=Math.floor(Math.max(0,new Date(t.endTimeFormatted).getTime()-Date.now())/1e3),a=Math.floor(r/86400),n=Math.floor(r%86400/3600),i=Math.floor(r%3600/60),o=r%60;e[t.id]=a>0?"".concat(a,"d ").concat(String(n).padStart(2,"0"),":").concat(String(i).padStart(2,"0"),":").concat(String(o).padStart(2,"0")):"".concat(String(n).padStart(2,"0"),":").concat(String(i).padStart(2,"0"),":").concat(String(o).padStart(2,"0"))}),el(e)},1e3);return()=>{clearInterval(e)}},[J]),(0,n.useEffect)(()=>{(async()=>{if(H&&O&&"my-stakes"===X){ee(!0),er(null);try{let e=await O.getStackingList(H);V([...e].reverse());try{let t={},r={},a={};e.forEach(e=>{if(e.isRedemption&&e.redemptionTimeFormatted){let n=new Date(e.redemptionTimeFormatted).getTime()+180-Date.now(),i=Math.max(0,Math.floor(n/1e3));i>0?(t[e.id]=i,r[e.id]=!0,a[e.id]=!1):(t[e.id]=0,r[e.id]=!0,a[e.id]=!0)}}),ex(t),eN(r),eF(a)}catch(e){}try{let t={};e.forEach(e=>{t[e.id]=e.unrewardFormatted||"0"}),eo(t)}catch(e){}}catch(e){console.error("Failed to fetch user stakes:",e),er("Failed to load staking data. Please try again later.")}finally{ee(!1)}}})()},[H,O,X]);let eu=e=>{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(t)},[ep,eh]=(0,n.useState)(null),[eg,ey]=(0,n.useState)(""),[ew,ef]=(0,n.useState)(!1),[eb,ev]=(0,n.useState)(!1),[ek,ex]=(0,n.useState)({}),[eT,eN]=(0,n.useState)({}),[eS,eF]=(0,n.useState)({}),eA=async()=>{if(H&&j){ef(!0);try{let e=Z.trim();if(!e)return void alert("Please enter referral code");let t=P(H),r=await j.register(t,e);console.log("Registration tx:",r.hash),$(!0),F("Registration successful!")}catch(e){console.error("Registration failed:",e),alert("Registration failed")}finally{ef(!1)}}},eD=async()=>{if(H){ef(!0);try{let e=new k.j(window.ethereum).getSigner(),t=new x.NZ(D,L,e),r=S.Is,a=await t.approve(A,r);console.log("Approval transaction sent:",a.hash),await a.wait();let n=await t.allowance(H,A);W(T.gH.isBigNumber(n)?n.gt(0):Number(n)>0),F("TKM approved!")}catch(e){console.error("Approval failed:",e),alert("Approval failed")}finally{ef(!1)}}};(0,n.useEffect)(()=>{let e;return Object.values(ek).some(e=>e>0)&&(e=setInterval(()=>{ex(e=>{let t={...e};return Object.keys(t).forEach(e=>{t[e]>0&&(t[e]-=1,0===t[e]&&eF(t=>({...t,[e]:!0})))}),t})},1e3)),()=>{e&&clearInterval(e)}},[ek]);let eC=async e=>{if(O)try{ef(!0);let t=await O.preRedemptionStaking(e);await t.wait();try{let t=await O.getStackingList(H);V([...t].reverse());let r=t.find(t=>t.id===e);if(r&&r.redemptionTimeFormatted){let t=new Date(r.redemptionTimeFormatted).getTime()+2592e5-Date.now(),a=Math.max(0,Math.floor(t/1e3));ex(t=>({...t,[e]:a})),eN(t=>({...t,[e]:!0})),eF(t=>({...t,[e]:a<=0}))}}catch(e){}}catch(e){alert("Early redeem failed")}finally{ef(!1)}},eM=async e=>{if(O)try{ef(!0);let t=await O.preRedemptionStaking(e);await t.wait(),ex(t=>{let r={...t};return delete r[e],r}),eN(t=>{let r={...t};return delete r[e],r}),eF(t=>{let r={...t};return delete r[e],r});try{let e=await O.getStackingList(H);V(e)}catch(e){}}catch(e){alert("Cancel redeem failed")}finally{ef(!1)}},eY=async e=>{if(O)try{ef(!0);let t=await O.withdrawreward(e);await t.wait(),ev(!0),setTimeout(()=>ev(!1),3e3);try{let t=await O.getreward(e),r=Array.isArray(t)?t[0]:t;eo(t=>({...t,[e]:N.ck(r)}))}catch(e){}try{await em()}catch(e){}try{let e=await O.getStackingList(H);V([...e].reverse())}catch(e){}}catch(e){console.error("Withdraw failed:",e),alert("Withdraw failed")}finally{ef(!1),ex(t=>{let r={...t};return delete r[e],r}),eN(t=>{let r={...t};return delete r[e],r}),eF(t=>{let r={...t};return delete r[e],r})}},eE=async e=>{if(O)try{ef(!0);let t=await O.redemptionStaking(e,D,{});await t.wait(),ev(!0),setTimeout(()=>ev(!1),3e3);try{await em()}catch(e){}}catch(e){console.error("Redemption failed:",e),alert("Redemption failed")}finally{ef(!1)}};(0,n.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("walletAddress");e&&I(e)},t=localStorage.getItem("walletAddress");return t&&I(t),window.addEventListener("walletConnected",e),()=>{window.removeEventListener("walletConnected",e)}},[]);let eH=async()=>{if(H&&ep&&eg&&O){ef(!0);try{let e=E.find(e=>e.id===ep);if(!e)throw Error("Pool not found");let t=30;e.period.includes("180")?t=180:e.period.includes("360")&&(t=360);let r=await O.estimateGasForStatking(t,eg,D),a=await O.statking(t,eg,D,{gasLimit:r.mul(120).div(100)});await a.wait(),console.log("Staking successful:",a.hash),ev(!0),ey(""),setTimeout(()=>ev(!1),3e3)}catch(e){console.error("Staking failed:",e),alert("Staking failed")}finally{ef(!1)}}};return H?(0,a.FD)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-800 text-white p-4 pt-24",children:[(0,a.FD)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[(0,a.Y)("div",{className:"absolute top-1/3 left-1/4 w-96 h-96 rounded-full bg-purple-600/10 blur-[100px]"}),(0,a.Y)("div",{className:"absolute bottom-1/3 right-1/4 w-96 h-96 rounded-full bg-pink-600/10 blur-[100px]"})]}),(0,a.FD)("div",{className:"max-w-4xl mx-auto relative z-10",children:[(0,a.FD)("div",{className:"mb-12 flex items-center",children:[(0,a.Y)(i.$,{variant:"ghost",className:"text-white hover:bg-white/10 mr-4",onClick:()=>window.history.back(),children:(0,a.Y)(s.A,{className:"w-5 h-5"})}),(0,a.FD)("div",{children:[(0,a.Y)("h1",{className:"text-4xl font-bold mb-2 inline-block px-4 py-1 rounded bg-purple-600 text-white",children:"Staking on-chain"}),(0,a.Y)("p",{className:"text-slate-300",children:"Earn passive income by staking your tokens"})]})]}),(0,a.FD)("div",{className:"space-y-8",children:[(0,a.FD)("div",{className:"grid w-full grid-cols-2 bg-slate-700/50 rounded-md p-1",children:[(0,a.Y)("button",{onClick:()=>U("pools"),className:"px-4 py-2 rounded ".concat("pools"===X?"bg-purple-500/20 text-purple-400":"text-white/70 hover:text-white"),children:"Staking Pools"}),(0,a.Y)("button",{onClick:()=>U("my-stakes"),className:"px-4 py-2 rounded ".concat("my-stakes"===X?"bg-pink-500/20 text-pink-400":"text-white/70 hover:text-white"),children:"Staking Rewards"})]}),"pools"===X&&(0,a.FD)("div",{className:"relative",children:[(0,a.Y)("button",{className:"absolute top-1/2 left-4 -translate-y-1/2 bg-purple-600/80 hover:bg-purple-700 text-white p-3 rounded-full shadow-lg z-10 transition-all duration-300 hover:scale-110",onClick:()=>{let e=document.querySelector(".staking-scroll-container");if(e){let t=e.clientWidth;e.scrollLeft<=0?e.scrollTo({left:e.scrollWidth-t,behavior:"smooth"}):e.scrollBy({left:-420,behavior:"smooth"})}},children:(0,a.Y)(s.A,{className:"w-6 h-6"})}),(0,a.Y)("button",{className:"absolute top-1/2 right-4 -translate-y-1/2 bg-purple-600/80 hover:bg-purple-700 text-white p-3 rounded-full shadow-lg z-10 transition-all duration-300 hover:scale-110",onClick:()=>{let e=document.querySelector(".staking-scroll-container");if(e){let t=e.clientWidth;e.scrollLeft>=e.scrollWidth-t-10?e.scrollTo({left:0,behavior:"smooth"}):e.scrollBy({left:420,behavior:"smooth"})}},children:(0,a.Y)(l.A,{className:"w-6 h-6"})}),(0,a.Y)("div",{className:"staking-scroll-container flex justify-start overflow-x-auto space-x-6 pb-6 snap-x snap-mandatory scrollbar-none scroll-smooth px-4",children:E.map((e,t)=>(0,a.Y)(o.Zp,{className:"bg-slate-800/50 border-slate-700 p-6 rounded-xl shadow-xl hover:border-purple-500/50 transition-all duration-500 min-w-[260px] md:min-w-[320px] lg:min-w-[380px] max-w-[90vw] snap-center flex-shrink-0 hover:shadow-purple-500/20 transform hover:-translate-y-2",style:{animation:"slideIn 0.6s ease-out ".concat(.1*t,"s both"),opacity:0},children:(0,a.FD)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,a.FD)("div",{className:"flex items-center space-x-4",children:[(0,a.Y)("div",{className:"h-16 w-16 rounded-full bg-purple-600/20 border border-purple-500/30 flex items-center justify-center text-xl font-bold text-purple-400 transition-all duration-300 hover:bg-purple-600/30 hover:border-purple-500/50 hover:scale-110",children:e.image}),(0,a.FD)("div",{children:[(0,a.FD)("h3",{className:"text-2xl font-bold text-white",children:[e.token," Staking"]}),(0,a.FD)("p",{className:"text-slate-300",children:[e.period," Lock Period"]})]})]}),(0,a.FD)("div",{className:"flex flex-col md:flex-row gap-6 items-center md:items-end",children:[(0,a.FD)("div",{className:"text-center md:text-right min-w-[100px] p-2",children:[(0,a.Y)("p",{className:"text-slate-300 text-sm",children:"APY"}),(0,a.Y)("p",{className:"text-3xl font-bold text-purple-400 animate-pulse whitespace-nowrap",children:e.apy})]}),(0,a.FD)("div",{className:"text-center md:text-right min-w-[120px]",children:[(0,a.Y)("p",{className:"text-slate-300 text-sm",children:"Dividend Pool Share"}),(0,a.Y)("p",{className:"text-xl font-bold text-blue-400 whitespace-nowrap",children:e.dividendPoolShare})]}),(0,a.FD)("div",{children:[(0,a.Y)("p",{className:"text-slate-300 text-sm mb-2",children:"staking pool"}),(0,a.Y)("p",{className:"inline-block px-3 py-1 rounded bg-slate-700 text-white font-medium",children:ed[e.id]||e.totalStaked})]}),(0,a.FD)(i.$,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 transition-all duration-300 hover:shadow-lg hover:scale-105",onClick:()=>eh(e.id),children:[(0,a.Y)(d.A,{className:"w-4 h-4 mr-2"}),"Staking Now"]})]})]})},e.id))}),(0,a.Y)("div",{className:"absolute bottom-0 left-0 right-0 flex justify-center gap-2 pb-2",children:E.map((e,t)=>(0,a.Y)("button",{className:"w-3 h-3 rounded-full bg-purple-400/50 hover:bg-purple-400 transition-all duration-300",onClick:()=>{let e=document.querySelector(".staking-scroll-container");null==e||e.scrollTo({left:420*t,behavior:"smooth"})}},t))})]}),"my-stakes"===X&&(0,a.Y)("div",{className:"space-y-6",children:Q?(0,a.FD)("div",{className:"text-center py-12",children:[(0,a.Y)(B,{className:"w-16 h-16 mx-auto text-slate-400 mb-4 animate-spin"}),(0,a.Y)("p",{className:"text-slate-300",children:"Loading your stakes..."})]}):et?(0,a.FD)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-6 text-center",children:[(0,a.Y)(c.A,{className:"w-12 h-12 mx-auto text-red-400 mb-4"}),(0,a.Y)("p",{className:"text-red-300 mb-4",children:et}),(0,a.Y)(i.$,{variant:"ghost",className:"border border-red-500/30 text-red-400 hover:bg-red-500/20",onClick:()=>{O&&H&&(ee(!0),O.getStackingList(H).then(e=>{V([...e].reverse()),er(null)}).catch(e=>{console.error("Failed to refresh stakes:",e),er("Failed to refresh data. Please try again later.")}).finally(()=>ee(!1)))},children:"Try Again"})]}):J.length>0?J.map(e=>(0,a.FD)(o.Zp,{className:"bg-slate-800/50 border-slate-700 p-6 rounded-xl shadow-xl",children:[(0,a.FD)("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[(0,a.FD)("div",{children:[(0,a.FD)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.Y)(m.A,{className:"w-6 h-6 text-purple-400"}),(0,a.FD)("h3",{className:"text-xl font-bold text-white",children:[e.amountFormatted," TKM Pools"]})]}),(0,a.FD)("div",{className:"space-y-2 text-sm",children:[(0,a.FD)("div",{className:"flex items-center space-x-2 text-slate-300",children:[(0,a.Y)(u.A,{className:"w-4 h-4 text-green-400"}),(0,a.FD)("span",{children:["APY: ",30===e.day?"20%":180===e.day?"35%":"45%"]})]}),(0,a.FD)("div",{className:"flex items-center space-x-2 text-slate-300",children:[(0,a.Y)(h,{className:"w-4 h-4"}),(0,a.FD)("span",{children:["Start: ",e.startTimeFormatted?eu(e.startTimeFormatted):"N/A"]})]}),(0,a.FD)("div",{className:"flex items-center space-x-2 text-slate-300",children:[(0,a.Y)(g.A,{className:"w-4 h-4"}),(0,a.FD)("span",{children:["End: ",e.endTimeFormatted?eu(e.endTimeFormatted):"N/A"]})]}),(0,a.FD)("div",{className:"flex items-center space-x-2",children:[(0,a.Y)(y,{className:"w-5 h-5 text-pink-400 animate-pulse"}),(0,a.Y)("span",{className:"text-slate-300 font-medium",children:"Earned:"}),(0,a.FD)("span",{className:"text-lg font-bold text-pink-400",children:[Number(e.rewardDebtFormatted).toFixed(2)," TKM"]})]}),(0,a.FD)("div",{className:"flex items-center space-x-2",children:[(0,a.Y)(w.A,{className:"w-5 h-5 text-blue-400"}),(0,a.Y)("span",{className:"text-slate-300 font-medium",children:"Claimable:"}),(0,a.FD)("span",{className:"text-lg font-bold text-pink-400",children:[Number(e.unrewardFormatted).toFixed(2)," TKM"]})]}),(0,a.Y)("div",{className:"flex flex-col space-y-1",children:(0,a.FD)("div",{className:"flex items-center space-x-2",children:[(0,a.Y)(f.A,{className:"w-5 h-5 text-yellow-400"}),(0,a.Y)("span",{className:"text-slate-300 font-medium",children:e.isRedemption?"Early Redeem: On":"Early Redeem: Off"})]})})]})]}),(0,a.FD)("div",{className:"flex flex-col items-end justify-between",children:[(0,a.Y)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("true"===String(e.status)?"bg-green-500/20 text-green-400":"bg-slate-600/30 text-slate-300"),children:"true"===String(e.status)?"Active":"Completed"}),(0,a.FD)("div",{className:"text-right",children:[(0,a.Y)("p",{className:"text-slate-300 text-sm",children:"Remaining"}),(0,a.Y)("p",{className:"text-xl font-bold text-white",children:e.endTimeFormatted?es[e.id]||(e=>{let t=new Date(e),r=new Date,a=t.getTime()-r.getTime();if(a<=0)return"Ended";let n=Math.ceil(a/864e5);if(n<30)return"".concat(n," days");let i=Math.floor(n/30);return"".concat(i," month").concat(i>1?"s":"")})(e.endTimeFormatted):"N/A"})]})]})]}),(0,a.FD)("div",{className:"flex flex-col sm:flex-row gap-3 mt-4",children:[parseFloat(String(e.unrewardFormatted))>0?(0,a.FD)(i.$,{className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-4 transition-all duration-300 hover:shadow-lg hover:scale-105",onClick:()=>eY(e.id),children:[(0,a.Y)(d.A,{className:"w-4 h-4 mr-2"}),"On-chain rights confirmation"]}):null,e.endTimeFormatted&&new Date(e.endTimeFormatted).getTime()<=Date.now()&&"true"===String(e.status)?(0,a.FD)(i.$,{className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 transition-all duration-300 hover:shadow-lg hover:scale-105",onClick:()=>eE(e.id),children:[(0,a.Y)(d.A,{className:"w-4 h-4 mr-2"}),"Redeem Now"]}):null,e.endTimeFormatted&&new Date(e.endTimeFormatted).getTime()>=Date.now()&&!1==e.isRedemption?(0,a.FD)(i.$,{className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white px-4 transition-all duration-300 hover:shadow-lg hover:scale-105",onClick:()=>eC(e.id),children:[(0,a.Y)(c.A,{className:"w-4 h-4 mr-2"}),"Early Redemption"]}):null,e.endTimeFormatted&&new Date(e.endTimeFormatted).getTime()<=Date.now()?null:!0===e.isRedemption?(0,a.Y)(i.$,{className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white px-4 transition-all duration-300 hover:shadow-lg hover:scale-105",onClick:()=>eM(e.id),children:"Cancel Redeem"}):null]})]},e.id)):(0,a.FD)("div",{className:"text-center py-12",children:[(0,a.Y)(m.A,{className:"w-16 h-16 mx-auto text-slate-600 mb-4"}),(0,a.Y)("h3",{className:"text-xl font-medium text-white mb-2",children:"No Stakes Yet"}),(0,a.Y)("p",{className:"text-slate-400 mb-6",children:"Start staking your tokens to earn rewards"}),(0,a.Y)(i.$,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:()=>U("pools"),children:"Browse Staking Pools"})]})})]}),ep&&(0,a.Y)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:(0,a.FD)(o.Zp,{className:"bg-slate-800 border-slate-700 p-6 rounded-xl max-w-md w-full",children:[(0,a.FD)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.FD)("h3",{className:"text-2xl font-bold text-white",children:["Stake ",null==(e=E.find(e=>e.id===ep))?void 0:e.token]}),(0,a.Y)(i.$,{variant:"ghost",className:"text-slate-400 hover:text-white hover:bg-slate-700/50 h-8 w-8 p-0 rounded-full",onClick:()=>eh(null),children:"âœ•"})]}),(0,a.FD)("div",{className:"space-y-4 mb-6",children:[(0,a.FD)("div",{className:"space-y-2",children:[(0,a.Y)("span",{className:"text-slate-300",children:"Stake Amount"}),(0,a.FD)("div",{className:"relative",children:[(0,a.Y)("input",{type:"number",value:eg,onChange:e=>ey(e.target.value),className:"w-full bg-black/50 border border-slate-600 text-white pr-20 text-lg font-medium rounded-md p-3",placeholder:"0.0"}),(0,a.FD)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-2",children:[(0,a.Y)("span",{className:"text-slate-400 font-medium",children:null==(t=E.find(e=>e.id===ep))?void 0:t.token}),(0,a.Y)(i.$,{variant:"ghost",size:"sm",className:"h-8",onClick:()=>ey(ea),children:"Max"})]})]})]}),(0,a.FD)("div",{className:"bg-slate-700/30 p-4 rounded-lg",children:[(0,a.FD)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.Y)("span",{className:"text-slate-300",children:"Balance"}),(0,a.FD)("span",{className:"text-white font-medium",children:[ea," TKM"]})]}),(0,a.FD)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.Y)("span",{className:"text-slate-300",children:"Min Stake"}),(0,a.Y)("span",{className:"text-white font-medium",children:null==(r=E.find(e=>e.id===ep))?void 0:r.minStake})]}),(0,a.FD)("div",{className:"flex justify-between items-center",children:[(0,a.Y)("span",{className:"text-slate-300",children:"Estimated APY"}),(0,a.Y)("span",{className:"text-green-400 font-medium",children:null==(p=E.find(e=>e.id===ep))?void 0:p.apy})]})]})]}),!_&&(0,a.FD)("div",{className:"mt-2",children:[(0,a.FD)("label",{className:"block text-slate-300 mb-2",children:["Referral Code ",(0,a.Y)("span",{className:"text-red-400",children:"*"})]}),(0,a.Y)("input",{value:Z,onChange:e=>G(e.target.value),placeholder:"Please enter referral code or referrer address",className:"w-full p-3 rounded-lg bg-slate-800/70 border border-slate-600/50 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),(0,a.Y)(i.$,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-6 text-lg",onClick:()=>{_?z?eH():eD():eA()},disabled:ew||!_&&!Z.trim()||_&&z&&!eg,children:(0,a.FD)("span",{className:"flex items-center justify-center",children:[ew?(0,a.Y)(B,{className:"w-5 h-5 mr-2 animate-spin"}):eb?(0,a.Y)(R,{className:"w-5 h-5 mr-2"}):_?z?(0,a.Y)(m.A,{className:"w-5 h-5 mr-2"}):(0,a.Y)(v.A,{className:"w-5 h-5 mr-2"}):(0,a.Y)(b.A,{className:"w-5 h-5 mr-2"}),ew?_?z?"Staking...":"Approving TKM...":"Registering...":eb?"Stake Successful!":_?z?"Confirm Stake":"Approve TKM First":"Register to Stake"]})})]})}),(0,a.FD)("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-xl p-6 flex items-start mt-8 shadow-lg hover:shadow-blue-500/20 transition-all duration-500",children:[(0,a.Y)("div",{className:"bg-gradient-to-br from-blue-500/20 to-purple-500/20 p-3 rounded-lg mr-4 flex-shrink-0",children:(0,a.Y)(f.A,{className:"w-6 h-6 text-blue-400 animate-pulse"})}),(0,a.FD)("div",{children:[(0,a.FD)("h4",{className:"inline-flex items-center px-3 py-1 rounded bg-blue-600 text-white font-bold text-xl mb-2",children:[(0,a.Y)(u.A,{className:"w-5 h-5 mr-2"})," Staking Rewards"]}),(0,a.FD)("div",{className:"space-y-3",children:[(0,a.FD)("p",{className:"text-sm text-slate-300 leading-relaxed",children:[(0,a.Y)("span",{className:"text-blue-300 font-medium",children:"Daily Participation:"})," Investors can participate in staking repeatedly every day. Staking with the same period package calculates dividends based on total amount, with rewards distributed three times daily."]}),(0,a.FD)("p",{className:"text-sm text-slate-300 leading-relaxed",children:[(0,a.Y)("span",{className:"text-blue-300 font-medium",children:"Early Redemption:"})," Initiates a 72-hour cooling period countdown. Terminating redemption during the countdown period does not affect dividend earnings."]}),(0,a.FD)("p",{className:"text-sm text-slate-300 leading-relaxed",children:[(0,a.Y)("span",{className:"text-blue-300 font-medium",children:"Forced Redemption:"})," Deducts all previous earnings, with the deducted portion fully destroyed in the black hole."]})]})]})]})]})]}):(0,a.Y)("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 text-white p-4 pt-24",children:(0,a.FD)("div",{className:"max-w-md text-center",children:[(0,a.Y)("h1",{className:"text-3xl font-bold mb-6",children:"Staking on-chain"}),(0,a.Y)("p",{className:"text-slate-300 mb-8",children:"Please connect your wallet first to stake tokens"}),(0,a.Y)(i.$,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-6 text-lg",disabled:ew,children:(0,a.Y)("a",{href:"#",onClick:e=>{e.preventDefault();{let e=new CustomEvent("triggerConnectWallet");window.dispatchEvent(e)}},children:"Connect Wallet"})})]})})}let R=e=>(0,a.FD)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.Y)("path",{d:"m20 6-4-4-12 12"}),(0,a.Y)("path",{d:"m18 12 4 4-12-12"})]}),B=e=>(0,a.FD)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.Y)("path",{d:"N21 2v6h-6"}),(0,a.Y)("path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8"}),(0,a.Y)("path",{d:"M3 22v-6h6"}),(0,a.Y)("path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16"})]}),L=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)"],P=e=>{let t=e=>{let t=0x811c9dc5;for(let r=0;r<e.length;r++)t=(t>>>2)+((3&t)<<30)+e.charCodeAt(r);return t>>>0},r="";for(let a=0;a<e.length;a+=8)r+=(t(e.substring(a,a+8))>>>0).toString(16);return r.padEnd(32,"0").substring(0,32)}},6065:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},6204:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6615:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8274:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},8332:(e,t,r)=>{"use strict";r.d(t,{E$:()=>m,Ni:()=>u});var a=r(9216),n=r(2115),i=r(8527),o=r(8770),s=r(406),l=r(6065),d=r(6615);let c=e=>{let{type:t,message:r,onClose:c,duration:m=3e3,show:u=!0,id:p,onMouseEnter:h,onMouseLeave:g}=e,[y,w]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[v,k]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(u){let e=setTimeout(()=>{w(!0)},10);return()=>clearTimeout(e)}},[u]),(0,n.useEffect)(()=>{let e;return y&&m>0&&!v&&(e=setTimeout(()=>{x()},m)),()=>{e&&clearTimeout(e)}},[y,m,v]);let x=()=>{b(!0),setTimeout(()=>{w(!1),c&&c()},300)};return y||f?(0,a.FD)("div",{id:p,className:"w-80 max-w-md rounded-lg p-4 flex items-center justify-between transform transition-all duration-300 ease-out cursor-pointer hover:translate-x-[-2px] hover:shadow-md ".concat((()=>{switch(t){case"success":return"bg-green-50 dark:bg-green-900/20";case"error":return"bg-red-50 dark:bg-red-900/20";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20";default:return"bg-blue-50 dark:bg-blue-900/20"}})()," ").concat((()=>{switch(t){case"success":return"text-green-800 dark:text-green-300";case"error":return"text-red-800 dark:text-red-300";case"warning":return"text-yellow-800 dark:text-yellow-300";case"info":return"text-blue-800 dark:text-blue-300"}})()," ").concat((()=>{switch(t){case"success":return"border border-green-200 dark:border-green-800";case"error":return"border border-red-200 dark:border-red-800";case"warning":return"border border-yellow-200 dark:border-yellow-800";case"info":return"border border-blue-200 dark:border-blue-800"}})()," ").concat((()=>{switch(t){case"success":return"shadow-sm shadow-green-100 dark:shadow-green-900/10";case"error":return"shadow-sm shadow-red-100 dark:shadow-red-900/10";case"warning":return"shadow-sm shadow-yellow-100 dark:shadow-yellow-900/10";case"info":return"shadow-sm shadow-blue-100 dark:shadow-blue-900/10"}})()),onMouseEnter:()=>{k(!0),null==h||h()},onMouseLeave:()=>{k(!1),null==g||g()},style:{opacity:f?0:+!!y,transform:f||!y?"translateX(10px)":"translateX(0)"},onClick:x,children:[(0,a.FD)("div",{className:"flex items-center space-x-3",children:[(0,a.Y)("div",{className:"".concat((()=>{switch(t){case"success":return"text-green-600 dark:text-green-400";case"error":return"text-red-600 dark:text-red-400";case"warning":return"text-yellow-600 dark:text-yellow-400";case"info":return"text-blue-600 dark:text-blue-400"}})()," transition-transform hover:scale-110"),children:(()=>{switch(t){case"success":return(0,a.Y)(i.A,{className:"w-5 h-5"});case"error":return(0,a.Y)(o.A,{className:"w-5 h-5"});case"warning":return(0,a.Y)(s.A,{className:"w-5 h-5"});default:return(0,a.Y)(l.A,{className:"w-5 h-5"})}})()}),(0,a.Y)("span",{className:"font-medium leading-relaxed max-w-[calc(100%-50px)]",children:r})]}),(0,a.Y)("button",{onClick:e=>{e.stopPropagation(),x()},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none","aria-label":"Close alert",children:(0,a.Y)(d.A,{className:"w-4 h-4 transition-transform hover:scale-110"})})]}):null},m=()=>{let[e,t]=(0,n.useState)([]),r=e=>{let r=Date.now().toString();return t(t=>[...t,{id:r,...e,pauseTimer:!1}]),0!==e.duration&&setTimeout(()=>{a(r)},e.duration||3e3),r},a=e=>{t(t=>t.map(t=>t.id===e?{...t,isExiting:!0}:t)),setTimeout(()=>{t(t=>t.filter(t=>t.id!==e))},300)};return{notifications:e,addNotification:r,removeNotification:a,pauseNotification:e=>{t(t=>t.map(t=>t.id===e?{...t,pauseTimer:!0}:t))},resumeNotification:e=>{t(t=>{let r=t.find(t=>t.id===e);return r&&0!==r.duration&&setTimeout(()=>{a(e)},r.duration||3e3),t.map(t=>t.id===e?{...t,pauseTimer:!1}:t)})},success:(e,t)=>r({type:"success",message:e,duration:t}),error:(e,t)=>r({type:"error",message:e,duration:t}),warning:(e,t)=>r({type:"warning",message:e,duration:t}),info:(e,t)=>r({type:"info",message:e,duration:t})}},u=()=>{let{notifications:e,removeNotification:t,pauseNotification:r,resumeNotification:n}=m(),i=e.filter(e=>!e.isExiting);return(0,a.Y)("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-sm",children:i.map((e,o)=>(0,a.Y)("div",{className:"transition-all duration-300 ease-out",style:{transitionDelay:"".concat(100*o,"ms"),zIndex:i.length-o},children:(0,a.Y)(c,{id:e.id,type:e.type,message:e.message,duration:e.duration,onClose:()=>t(e.id),onMouseEnter:()=>r(e.id),onMouseLeave:()=>n(e.id)})},e.id))})}},8527:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8770:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])}},e=>{e.O(0,[933,909,587,292,556,558,441,493,358],()=>e(e.s=1712)),_N_E=e.O()}]);